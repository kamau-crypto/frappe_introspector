{% extends "base.html" %} {% block content %}
<div class="container mx-auto px-4 py-8">
    <!-- Debug panel -->
    <!-- Back button -->
    <div class="mb-6">
        <a
            href="{{ url_for('docs') }}"
            class="inline-flex items-center text-blue-600 hover:text-blue-800 transition-colors"
        >
            ← Back to Documentation List
        </a>
    </div>

    <!-- Document content -->
    <div class="bg-white rounded-lg shadow-lg overflow-hidden mb-10">
        <div class="bg-gradient-to-r from-blue-600 to-blue-300 px-8 py-6">
            <h1 class="text-xl font-bold text-white">{{ title }}</h1>
        </div>
            <!-- Rendered markdown -->
            <div class="prose prose-md max-w-none text-sm/8 px-10">{{ content|markdown }}</div>
        </div>
    </div>
</div>

<script>
// Add copy buttons to all code blocks
document.querySelectorAll('pre').forEach(pre => {
    // Create button
    const btn = document.createElement('button');
    btn.innerHTML = '<i class="fa fa-clipboard" aria-hidden="true"></i>';
    btn.className = 'copy-btn';

    // Add click handler
    btn.onclick = async () => {
        await navigator.clipboard.writeText(pre.textContent);
        btn.textContent = '✓ Copied To clipboard';
        setTimeout(() => btn.innerHTML = '<i class="fa fa-clipboard" aria-hidden="true"></i>', 2000);
    };

    // Wrap pre in div and add button
    const wrapper = document.createElement('div');
    wrapper.style.position = 'relative';
    pre.parentNode.insertBefore(wrapper, pre);
    wrapper.appendChild(pre);
    wrapper.appendChild(btn);
});
</script>
<style>
    .copy-btn {
        position: absolute;
        top: 8px;
        right: 8px;
        padding: 4px 12px;
        background: rgba(255,255,255,0.9);
        border-radius: 4px;
        cursor: pointer;
        font-size: 12px;
    }
    .copy-btn:hover {
        background: white;
    }
    {{ pygments_css|safe }}

    .prose h1 { @apply text-3xl font-bold text-gray-900 mt-8 mb-4; }
    .prose h2 { @apply text-2xl font-bold text-gray-800 mt-6 mb-3; }
    .prose h3 { @apply text-xl font-semibold text-gray-800 mt-4 mb-2; }
    .prose p { @apply mb-4 leading-relaxed; }
    .prose code { @apply bg-gray-100 px-1.5 py-0.5 rounded text-sm font-mono text-pink-600; }
    .prose pre { @apply bg-gray-900 text-gray-100 rounded-lg p-4 overflow-x-auto my-4; }
    .prose ul { @apply list-disc list-inside mb-4 space-y-2; }
    .prose ol { @apply list-decimal list-inside mb-4 space-y-2; }
    .prose a { @apply text-blue-600 hover:text-blue-800 underline; }
    .prose blockquote { @apply border-l-4 border-blue-500 pl-4 italic text-gray-600 my-4; }
</style>
{% endblock %}
